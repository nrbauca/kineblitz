{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Nathalie/Documents/GitHub/kineblitz/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Nathalie/Documents/GitHub/kineblitz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";// Import the functions you need from the SDKs you need\nimport{initializeApp}from\"firebase/app\";import{getAnalytics}from\"firebase/analytics\";import{GoogleAuthProvider,getAuth,signInWithPopup,signInWithEmailAndPassword,createUserWithEmailAndPassword,sendPasswordResetEmail,signOut}from\"firebase/auth\";import{getFirestore,query,getDocs,collection,where,addDoc}from\"firebase/firestore\";// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nvar firebaseConfig={apiKey:\"AIzaSyC15wmWTnfzXP0grkdCk8BmJUlElBDc3_o\",authDomain:\"kineblitz-2d95f.firebaseapp.com\",databaseURL:\"https://kineblitz-2d95f-default-rtdb.asia-southeast1.firebasedatabase.app\",projectId:\"kineblitz-2d95f\",storageBucket:\"kineblitz-2d95f.appspot.com\",messagingSenderId:\"118588653036\",appId:\"1:118588653036:web:5e87f56fd3eb040b93d4c9\",measurementId:\"G-GRT6SX3RX4\"};// Initialize Firebase\nvar app=initializeApp(firebaseConfig);var analytics=getAnalytics(app);var auth=getAuth(app);var firestore=getFirestore(app);var googleProvider=new GoogleAuthProvider();var signInWithGoogle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,user,q,docs;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return signInWithPopup(auth,googleProvider);case 3:res=_context.sent;user=res.user;q=query(collection(firestore,\"users\"),where(\"uid\",\"==\",user.id));_context.next=8;return getDocs(q);case 8:docs=_context.sent;if(!(docs.docs.length===0)){_context.next=12;break;}_context.next=12;return addDoc(collection(firestore,\"users\"),{uid:user.uid,name:user.displayName,authProvider:\"google\",email:user.email});case 12:_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.error(_context.t0);alert(_context.t0.message);case 18:case\"end\":return _context.stop();}},_callee,null,[[0,14]]);}));return function signInWithGoogle(){return _ref.apply(this,arguments);};}();var logInWithEmailAndPassword=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(email,password){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return signInWithEmailAndPassword(auth,email,password);case 3:_context2.next=9;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);alert(_context2.t0.message);case 9:case\"end\":return _context2.stop();}},_callee2,null,[[0,5]]);}));return function logInWithEmailAndPassword(_x,_x2){return _ref2.apply(this,arguments);};}();var registerWithEmailAndPassword=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(name,email,password){var res,user;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return createUserWithEmailAndPassword(auth,email,password);case 3:res=_context3.sent;user=res.user;_context3.next=7;return addDoc(collection(firestore,\"users\"),{uid:user.uid,name:name,authProvider:\"local\",email:email});case 7:_context3.next=13;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);alert(_context3.t0.message);case 13:case\"end\":return _context3.stop();}},_callee3,null,[[0,9]]);}));return function registerWithEmailAndPassword(_x3,_x4,_x5){return _ref3.apply(this,arguments);};}();var sendPasswordReset=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(email){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return sendPasswordResetEmail(auth,email);case 3:alert(\"Password reset link sent!\");_context4.next=10;break;case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);console.error(_context4.t0);alert(_context4.t0.message);case 10:case\"end\":return _context4.stop();}},_callee4,null,[[0,6]]);}));return function sendPasswordReset(_x6){return _ref4.apply(this,arguments);};}();var logout=function logout(){signOut(auth);};export{auth,analytics,firestore,signInWithGoogle,logInWithEmailAndPassword,registerWithEmailAndPassword,sendPasswordReset,logout};","map":{"version":3,"names":["initializeApp","getAnalytics","GoogleAuthProvider","getAuth","signInWithPopup","signInWithEmailAndPassword","createUserWithEmailAndPassword","sendPasswordResetEmail","signOut","getFirestore","query","getDocs","collection","where","addDoc","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","analytics","auth","firestore","googleProvider","signInWithGoogle","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","user","q","docs","wrap","_callee$","_context","prev","next","sent","id","length","uid","name","displayName","authProvider","email","t0","console","error","alert","message","stop","apply","arguments","logInWithEmailAndPassword","_ref2","_callee2","password","_callee2$","_context2","_x","_x2","registerWithEmailAndPassword","_ref3","_callee3","_callee3$","_context3","_x3","_x4","_x5","sendPasswordReset","_ref4","_callee4","_callee4$","_context4","_x6","logout"],"sources":["C:/Users/Nathalie/Documents/GitHub/kineblitz/src/firebase_setup/firebase.js"],"sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport {\r\n    GoogleAuthProvider,\r\n    getAuth,\r\n    signInWithPopup,\r\n    signInWithEmailAndPassword,\r\n    createUserWithEmailAndPassword,\r\n    sendPasswordResetEmail,\r\n    signOut\r\n} from \"firebase/auth\";\r\nimport {\r\n    getFirestore,\r\n    query,\r\n    getDocs,\r\n    collection,\r\n    where,\r\n    addDoc\r\n} from \"firebase/firestore\";\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyC15wmWTnfzXP0grkdCk8BmJUlElBDc3_o\",\r\n  authDomain: \"kineblitz-2d95f.firebaseapp.com\",\r\n  databaseURL: \"https://kineblitz-2d95f-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n  projectId: \"kineblitz-2d95f\",\r\n  storageBucket: \"kineblitz-2d95f.appspot.com\",\r\n  messagingSenderId: \"118588653036\",\r\n  appId: \"1:118588653036:web:5e87f56fd3eb040b93d4c9\",\r\n  measurementId: \"G-GRT6SX3RX4\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst analytics = getAnalytics(app);\r\nconst auth = getAuth(app);\r\nconst firestore = getFirestore(app);\r\nconst googleProvider = new GoogleAuthProvider();\r\n\r\nconst signInWithGoogle = async () => {\r\n    try {\r\n        const res = await signInWithPopup(auth, googleProvider);\r\n        const user = res.user;\r\n        const q = query(collection(firestore, \"users\"), where(\"uid\", \"==\", user.id));\r\n        const docs = await getDocs(q);\r\n        if (docs.docs.length === 0) {\r\n            await addDoc(collection(firestore, \"users\"), {\r\n                uid: user.uid,\r\n                name: user.displayName,\r\n                authProvider: \"google\",\r\n                email: user.email,\r\n            });\r\n        }\r\n    } catch (err) {\r\n        console.error(err);\r\n        alert(err.message);\r\n    }\r\n};\r\n\r\nconst logInWithEmailAndPassword = async (email, password) => {\r\n    try {\r\n        await signInWithEmailAndPassword (auth, email, password);\r\n    } catch (err) {\r\n        console.error(err);\r\n        alert(err.message);\r\n    }\r\n};\r\n\r\nconst registerWithEmailAndPassword = async (name, email, password) => {\r\n    try {\r\n        const res = await createUserWithEmailAndPassword(auth, email, password);\r\n        const user = res.user;\r\n        await addDoc(collection(firestore, \"users\"), {\r\n            uid:user.uid,\r\n            name,\r\n            authProvider: \"local\",\r\n            email,\r\n        });\r\n    } catch (err) {\r\n        console.error(err);\r\n        alert(err.message);\r\n    }\r\n};\r\n\r\nconst sendPasswordReset = async (email) => {\r\n    try {\r\n        await sendPasswordResetEmail(auth, email);\r\n        alert (\"Password reset link sent!\");\r\n    } catch (err) {\r\n        console.error(err);\r\n        alert(err.message);\r\n    }\r\n};\r\n\r\nconst logout = () => {\r\n    signOut(auth);\r\n};\r\n\r\nexport {\r\n    auth,\r\n    analytics,\r\n    firestore,\r\n    signInWithGoogle,\r\n    logInWithEmailAndPassword,\r\n    registerWithEmailAndPassword,\r\n    sendPasswordReset,\r\n    logout,\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}