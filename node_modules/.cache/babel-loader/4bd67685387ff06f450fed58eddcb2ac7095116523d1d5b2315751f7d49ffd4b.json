{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Nozomi/.vscode/kineblitz/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Nozomi/.vscode/kineblitz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Nozomi/.vscode/kineblitz/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuthState}from'react-firebase-hooks/auth';import{auth,firestore,logout}from'../FirebaseSetup/firebase';import{query,collection,getDocs,where}from'firebase/firestore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserDashboard(){var _useAuthState=useAuthState(auth),_useAuthState2=_slicedToArray(_useAuthState,3),user=_useAuthState2[0],loading=_useAuthState2[1],error=_useAuthState2[2];var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),birthday=_useState4[0],setBirthday=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),age=_useState6[0],setAge=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),condition=_useState8[0],setCondition=_useState8[1];var navigate=useNavigate();var fetchUserName=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var q,doc,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;q=query(collection(firestore,\"patients\"),where(\"uid\",\"==\",user===null||user===void 0?void 0:user.uid));_context.next=4;return getDocs(q);case 4:doc=_context.sent;data=doc.docs[0].data();setName(data.name);setBirthday(data.birthday);setAge(data.age);setCondition(data.condition);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.error(_context.t0);alert(\"An error occured while fetching user data\");case 16:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function fetchUserName(){return _ref.apply(this,arguments);};}();useEffect(function(){if(loading)return;if(!user)return navigate(\"/login\");fetchUserName();},[user,loading]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"main\",{className:\"user-dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-information row\",children:[/*#__PURE__*/_jsx(\"img\",{src:true,alt:\"\",className:\"user-pic\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"user-name\",children:name}),/*#__PURE__*/_jsxs(\"p\",{className:\"birth-date\",children:[\"Birth Date: \",birthday]}),/*#__PURE__*/_jsxs(\"p\",{className:\"age\",children:[\"Age: \",age]}),/*#__PURE__*/_jsx(\"p\",{className:\"id-num\",children:\"ID No.:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"condition\",children:[\"Condition: \",condition]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"gen-button px-2 py-2 rounded-lg bg-[#F5C4C4]\",children:\"Sign Out (Temp)\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"center\",children:\"Records\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-records row\",children:[/*#__PURE__*/_jsx(Link,{to:\"/record\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"gen-button\",id:true,children:\"mm/dd/yy\"})}),/*#__PURE__*/_jsx(Link,{to:\"/record\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"gen-button\",id:true,children:\"mm/dd/yy\"})}),/*#__PURE__*/_jsx(Link,{to:\"/record\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"gen-button\",id:true,children:\"mm/dd/yy\"})})]})]})})});}","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","useAuthState","auth","firestore","logout","query","collection","getDocs","where","jsx","_jsx","jsxs","_jsxs","UserDashboard","_useAuthState","_useAuthState2","_slicedToArray","user","loading","error","_useState","_useState2","name","setName","_useState3","_useState4","birthday","setBirthday","_useState5","_useState6","age","setAge","_useState7","_useState8","condition","setCondition","navigate","fetchUserName","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","q","doc","data","wrap","_callee$","_context","prev","next","uid","sent","docs","t0","console","alert","stop","apply","arguments","children","className","src","alt","onClick","to","type","id"],"sources":["C:/Users/Nozomi/.vscode/kineblitz/src/Pages/UserDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { auth, firestore, logout } from '../FirebaseSetup/firebase';\r\nimport { query, collection, getDocs, where } from 'firebase/firestore';\r\n\r\nexport default function UserDashboard() {\r\n    const [user, loading, error ] = useAuthState(auth);\r\n    const [name, setName] = useState(\"\");\r\n    const [birthday, setBirthday] = useState(\"\");\r\n    const [age, setAge] = useState(\"\");\r\n    const [condition, setCondition] = useState(\"\");\r\n    const navigate = useNavigate();\r\n\r\n    const fetchUserName = async () => {\r\n        try {\r\n            const q = query(collection(firestore, \"patients\"), where(\"uid\", \"==\", user?.uid));\r\n            const doc = await getDocs(q);\r\n            const data = doc.docs[0].data();\r\n\r\n            setName(data.name);\r\n            setBirthday(data.birthday);\r\n            setAge(data.age);\r\n            setCondition(data.condition);\r\n        } catch (err) {\r\n            console.error(err);\r\n            alert(\"An error occured while fetching user data\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (loading) return;\r\n        if (!user) return navigate(\"/login\");\r\n\r\n        fetchUserName();\r\n    }, [user, loading]);\r\n    \r\n    return (\r\n        <div>\r\n            <main className=\"user-dashboard\">\r\n                <div className=\"user-container\">\r\n                <div className=\"user-information row\">\r\n                    <img src alt=\"\" className=\"user-pic\" />\r\n                    <div className=\"user-details\">\r\n                    <p className=\"user-name\">{name}</p>\r\n                    <p className=\"birth-date\">Birth Date: {birthday}</p>\r\n                    <p className=\"age\">Age: {age}</p>\r\n                    <p className=\"id-num\">ID No.:</p>\r\n                    <p className=\"condition\">Condition: {condition}</p>\r\n                    <button onClick={logout} className=\"gen-button px-2 py-2 rounded-lg bg-[#F5C4C4]\">Sign Out (Temp)</button>\r\n                    </div>\r\n                </div>\r\n                <h3 className=\"center\">Records</h3>\r\n                <div className=\"user-records row\">\r\n                    <Link to=\"/record\"><button type=\"submit\" className=\"gen-button\" id>mm/dd/yy</button></Link>\r\n                    <Link to=\"/record\"><button type=\"submit\" className=\"gen-button\" id>mm/dd/yy</button></Link>\r\n                    <Link to=\"/record\"><button type=\"submit\" className=\"gen-button\" id>mm/dd/yy</button></Link>\r\n                </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}